# 게임 기획서: Tiny Breakers: The Beating World (타이니 브레이커즈: 심장이 뛰는 세계)

## 1. 프로젝트 개요

### 1.1 게임 컨셉
- **게임명**: Tiny Breakers: The Beating World (타이니 브레이커즈: 심장이 뛰는 세계)
- **장르**: 횡스크롤 방치형 액션 RPG
- **플랫폼**: iOS/Android (Flutter Flame)
- **백엔드**: Go 언어 기반 서버
- **특수 기능**: Apple Watch 연동, 걸음 수 연동, 멀티플레이 레이드

### 1.2 게임 스토리

#### 세계관: 멈춰버린 보석의 세계
오래전, 세상은 활기차게 움직이는 에너지로 가득했습니다. 하지만 사람들의 마음속에서 '열정'이 사라지고 '나태'와 '정체'가 깃들자, 세상은 움직임을 멈추고 **단단하고 차가운 보석(크리스탈)** 속에 갇혀버렸습니다. 이 현상을 **"대정지(The Stillness)"**라고 부릅니다.

#### 주인공: 유일하게 심장이 뛰는 자
수천 년이 지난 어느 날, 멈춰버린 세계에서 유일하게 **심장 소리(Heartbeat)**를 가진 당신(플레이어)이 눈을 뜹니다. 당신의 심장 박동은 멈춘 세상을 다시 움직이게 할 유일한 동력원인 **'활력의 불꽃'**을 만들어냅니다.

당신이 깨어나자, 그 온기를 느낀 숲의 작은 정령 **'타이니(Tiny)'**들도 잠에서 깨어납니다. 이들은 작고 약하지만, 당신이 만들어준 도구(무기)를 들면 엄청난 힘을 발휘합니다.

#### 목표: 세상을 깨워라!
이제 당신은 '타이니'들에게 무기를 쥐여주고, 보석으로 변해버린 세상을 **"깨부수어"** 원래의 말랑말랑하고 활기찬 모습으로 되돌려야 합니다.

**당신이 현실에서 움직일수록(걷기), 게임 속 세상은 더 빠르게 깨어납니다.**

### 1.3 핵심 게임플레이
- **타이니(작은 정령)**들이 거대한 무기를 들고 보석을 깨부수는 횡스크롤 게임
- **걸음 수 연동**: 현실에서 걸을수록 대장간의 화로가 뜨거워져 무기 제작 속도 증가
- **자동 전투**: 타이니들이 자동으로 보석(몬스터)을 처치
- **무기 강화 시스템**: 대장간에서 무기를 제작하고 강화
- **멀티플레이 레이드**: 다른 유저들과 협력하여 거대 수정 거인(World Boss) 처치

---

## 2. 게임 시스템 설계

### 2.1 핵심 게임플레이 메커니즘

#### 2.1.1 캐릭터 시스템
- **자동 이동**: 캐릭터가 오른쪽으로 자동 이동
- **공격 시스템**: 
  - 자동 공격 (방치형)
  - 수동 스킬 사용 가능
- **체력 시스템**: 몬스터 공격 시 체력 감소, 0이 되면 게임 오버

#### 2.1.2 몬스터 시스템
- **스폰 시스템**: 일정 간격으로 몬스터 생성
- **난이도 증가**: 진행 거리/레벨에 따라 몬스터 강도 증가
- **보상 시스템**: 몬스터 처치 시 골드/경험치 획득

#### 2.1.3 무기 강화 시스템 (대장간 시스템)
- **스토리 설정**: 보석 껍질을 부술 강력한 무기를 만들려면 **'대장간의 화로'**가 뜨거워야 합니다. 이 화로는 주인공(유저)의 움직임(심장 박동/발걸음)을 에너지로 삼아 타오릅니다.
- **무기 종류**: 
  - 기본 무기 (망치, 대검 등 - 타이니의 몸보다 3배 큰 무기)
  - 희귀 무기 (드롭 또는 제작)
- **강화 요소**:
  - 공격력 증가
  - 공격 속도 증가
  - 특수 효과 (불꽃, 번개, 얼음 등)
  - 등급 업그레이드 (일반 → 희귀 → 영웅 → 전설)
- **걸음 수 연동**:
  - 오늘 5,000보를 걸었다면? → 화로의 온도가 상승하여 **'무기 제작 속도'**가 2배가 되거나, **'상급 무기(SR등급)'**가 나올 확률이 높아집니다.
  - 많이 움직인 날에는 특수 재화 **'활력의 불씨'**를 획득하여, 타이니들의 이동 속도(공격 속도)를 영구적으로 높일 수 있습니다.

#### 2.1.4 던전 시스템
- **일반 던전**: 스테이지별 진행 (보석으로 변한 지역을 깨부수며 진행)
- **이벤트 던전**: 서버에서 제공하는 특별 던전
- **보스 던전 (공명 레이드)**: 거대 수정 거인(World Boss) 등장
  - 혼자서는 절대 깰 수 없는 거대 수정 거인들이 길을 막고 있습니다
  - 이 거인들을 깨우려면 다른 유저들과 모여 **심장 박동을 공명(Resonance)**시켜야만 거인의 껍질에 금이 가기 시작합니다
  - 최대 4인~10인의 유저가 실시간으로 매칭됩니다
  - 유저들의 총합 걸음 수가 일정 수치를 넘으면 **"대지진(Grand Impact)"** 스킬이 발동되어 거인에게 큰 데미지를 줍니다
- **보상**: 던전 클리어 시 특별 보상

### 2.2 서버 시스템

#### 2.2.1 이벤트 시스템
- **이벤트 타입**:
  - 시간 제한 이벤트 (예: 2배 경험치)
  - 특별 몬스터 출현 이벤트
  - 보상 이벤트 (로그인 보너스 등)
- **서버 관리**: Go 서버에서 이벤트 생성/관리/배포

#### 2.2.2 던전 관리 시스템
- **동적 던전 생성**: 서버에서 새로운 던전 데이터 제공
- **던전 정보**:
  - 몬스터 구성
  - 보상 정보
  - 난이도 설정
  - 클리어 조건

#### 2.2.3 데이터 동기화
- **게임 데이터 저장**: 플레이어 진행 상황, 아이템, 무기 정보
- **크로스 플랫폼**: 여러 기기에서 동일 계정 사용 가능

### 2.3 Apple Watch 연동

#### 2.3.1 기본 기능
- **게임 상태 확인**: 현재 레벨, 골드, 진행 거리
- **간단한 통계**: 플레이 시간, 처치한 몬스터 수

#### 2.3.2 인터랙션 기능
- **간단한 액션**: Watch에서 간단한 명령 전송 (예: 스킬 사용)
- **알림**: 보스 등장, 이벤트 시작 등 알림 수신
- **미니 게임**: Watch에서만 플레이 가능한 간단한 미니 게임

---

## 3. 기술 스택

### 3.1 클라이언트 (Flutter Flame)
- **게임 엔진**: Flame 1.x
- **상태 관리**: Provider 또는 Riverpod
- **네트워크**: Dio 또는 http
- **로컬 저장소**: SharedPreferences, Hive
- **Watch 연동**: Flutter Watch Extension

### 3.2 백엔드 (Go)
- **웹 프레임워크**: Gin 또는 Echo
- **데이터베이스**: PostgreSQL 또는 MySQL
- **캐싱**: Redis
- **인증**: JWT
- **API**: RESTful API 또는 gRPC

---

## 4. 게임 데이터 구조

### 4.1 플레이어 데이터
```json
{
  "playerId": "string",
  "level": "number",
  "experience": "number",
  "gold": "number",
  "currentWeapon": "weaponId",
  "weapons": ["weaponId1", "weaponId2"],
  "maxDistance": "number",
  "totalKills": "number"
}
```

### 4.2 무기 데이터
```json
{
  "weaponId": "string",
  "name": "string",
  "type": "sword|bow|staff",
  "attackPower": "number",
  "attackSpeed": "number",
  "rarity": "common|rare|epic|legendary",
  "level": "number",
  "specialEffects": ["poison", "fire", "ice"]
}
```

### 4.3 던전 데이터
```json
{
  "dungeonId": "string",
  "name": "string",
  "type": "normal|event|boss",
  "monsters": ["monsterId1", "monsterId2"],
  "rewards": {
    "gold": "number",
    "experience": "number",
    "items": ["itemId1"]
  },
  "difficulty": "number",
  "clearCondition": "string"
}
```

---

## 5. API 설계 (주요 엔드포인트)

### 5.1 인증
- `POST /api/auth/register` - 회원가입
- `POST /api/auth/login` - 로그인
- `POST /api/auth/refresh` - 토큰 갱신

### 5.2 플레이어
- `GET /api/player/info` - 플레이어 정보 조회
- `PUT /api/player/update` - 플레이어 정보 업데이트
- `GET /api/player/progress` - 진행 상황 조회

### 5.3 무기
- `GET /api/weapons` - 무기 목록 조회
- `POST /api/weapons/upgrade` - 무기 강화
- `POST /api/weapons/equip` - 무기 장착

### 5.4 던전
- `GET /api/dungeons` - 던전 목록 조회
- `GET /api/dungeons/{id}` - 던전 상세 정보
- `POST /api/dungeons/{id}/enter` - 던전 입장
- `POST /api/dungeons/{id}/clear` - 던전 클리어

### 5.5 이벤트
- `GET /api/events/active` - 활성 이벤트 조회
- `GET /api/events/history` - 이벤트 히스토리

---

## 6. 개발 단계별 로드맵

### Phase 1: 기본 인프라 구축 (1-2주)
- [ ] Flutter Flame 프로젝트 초기 설정
- [ ] Go 백엔드 서버 기본 구조 설정
- [ ] 데이터베이스 스키마 설계 및 구축
- [ ] 기본 인증 시스템 구현

### Phase 2: 핵심 게임플레이 (2-3주)
- [ ] 캐릭터 자동 이동 시스템
- [ ] 몬스터 스폰 및 AI 시스템
- [ ] 기본 전투 시스템 (공격/피격)
- [ ] UI 기본 레이아웃

### Phase 3: 강화 시스템 (1-2주)
- [ ] 무기 시스템 구현
- [ ] 무기 강화 로직
- [ ] 골드 및 경험치 시스템
- [ ] 인벤토리 시스템

### Phase 4: 서버 연동 (1-2주)
- [ ] API 클라이언트 구현
- [ ] 데이터 동기화 로직
- [ ] 오프라인 모드 지원

### Phase 5: 던전 시스템 (2주)
- [ ] 던전 데이터 구조 설계
- [ ] 던전 입장/클리어 로직
- [ ] 서버에서 던전 관리 기능

### Phase 6: 이벤트 시스템 (1-2주)
- [ ] 이벤트 관리 시스템 (서버)
- [ ] 이벤트 클라이언트 연동
- [ ] 이벤트 UI

### Phase 7: Apple Watch 연동 (2-3주)
- [ ] Watch Extension 프로젝트 설정
- [ ] Watch 앱 UI 구현
- [ ] Watch-Phone 통신 구현
- [ ] Watch 전용 기능 구현

### Phase 8: 최적화 및 폴리싱 (2-3주)
- [ ] 성능 최적화
- [ ] 버그 수정
- [ ] 밸런스 조정
- [ ] UI/UX 개선

---

## 7. 향후 기획 방향성

### 7.1 단기 개선 사항 (3-6개월)
1. **다양한 캐릭터 클래스**
   - 전사, 궁수, 마법사 등 다양한 직업 추가
   - 각 직업별 고유 스킬 및 특성

2. **펫 시스템**
   - 펫 획득 및 육성
   - 펫이 자동으로 몬스터 공격 보조

3. **길드 시스템**
   - 길드 생성 및 가입
   - 길드 던전 및 보스 레이드

4. **PvP 시스템**
   - 실시간 또는 비동기 PvP
   - 랭킹 시스템

### 7.2 중기 확장 사항 (6-12개월)
1. **스토리 모드**
   - 챕터별 스토리 진행
   - 보스 전투 시퀀스

2. **장비 시스템 확장**
   - 방어구 시스템
   - 액세서리 시스템
   - 세트 아이템 효과

3. **스킬 트리**
   - 캐릭터별 스킬 트리
   - 스킬 포인트 할당 시스템

4. **시즌 시스템**
   - 정기적인 시즌 업데이트
   - 시즌별 특별 보상

### 7.3 장기 비전 (12개월+)
1. **크로스 플랫폼 확장**
   - PC 버전 (Steam 등)
   - 웹 버전

2. **소셜 기능 강화**
   - 친구 시스템
   - 채팅 시스템
   - 리플레이 공유

3. **컨텐츠 생성 도구**
   - 유저 제작 던전
   - 커스텀 이벤트

4. **블록체인 연동** (선택사항)
   - NFT 아이템
   - 토큰 이코노미

---

## 8. 수익 모델 제안

### 8.1 무료 플레이 모델
- **광고**: 보상형 광고 (골드/아이템 획득)
- **인앱 구매**:
  - 골드 구매
  - 프리미엄 무기/아이템
  - 광고 제거
  - 경험치 부스터

### 8.2 구독 모델 (선택사항)
- **프리미엄 패스**: 월간 구독으로 특별 보상
- **배틀 패스**: 시즌별 배틀 패스

---

## 9. 기술적 고려사항

### 9.1 성능 최적화
- **렌더링 최적화**: Flame의 파티클 시스템 활용
- **메모리 관리**: 객체 풀링 패턴 사용
- **네트워크 최적화**: 배치 요청, 캐싱 전략

### 9.2 보안
- **API 보안**: HTTPS, JWT 토큰
- **치트 방지**: 서버 사이드 검증
- **데이터 암호화**: 민감 정보 암호화

### 9.3 확장성
- **서버 아키텍처**: 마이크로서비스 고려
- **데이터베이스**: 샤딩 전략
- **CDN**: 정적 리소스 CDN 배포

---

## 10. 참고 자료 및 리소스

### 10.1 Flutter Flame
- 공식 문서: https://docs.flame-engine.org/
- 예제 프로젝트: Flame 게임 예제

### 10.2 Go 백엔드
- Gin 프레임워크: https://gin-gonic.com/
- Echo 프레임워크: https://echo.labstack.com/

### 10.3 Apple Watch 개발
- WatchKit 문서
- Flutter Watch Extension 가이드

---

## 11. 다음 단계

1. **기획 검토**: 이 기획서를 바탕으로 팀과 검토
2. **프로토타입 제작**: 핵심 게임플레이 프로토타입
3. **기술 검증**: Flame 엔진 및 Go 서버 기술 검증
4. **아트 스타일 결정**: 게임 아트 스타일 및 리소스 계획
5. **개발 환경 구축**: 개발 도구 및 CI/CD 파이프라인 설정

---

**작성일**: 2024년
**버전**: 1.0
